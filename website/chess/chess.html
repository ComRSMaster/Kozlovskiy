<!DOCTYPE html><html lang="ru" style="--tg-theme-bg-color:#111;--tg-theme-text-color:#fff;--tg-theme-hint-color:#234;--tg-theme-link-color:#aaf;--tg-theme-button-color:#afa;--tg-theme-button-text-color:#fff;--tg-theme-secondary-bg-color:#222"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><title>Шахматы</title><script onload="Telegram.WebApp.ready(),Telegram.WebApp.expand()" src="https://telegram.org/js/telegram-web-app.js"></script><link href="pieces.css" rel="stylesheet" async><link href="lib/bootstrap2.min.css" rel="stylesheet"></head><body><div class="d-flex align-items-center fs-l fw-medium m-2"><div class="position-relative fs-6"><div class="avatar" id="op-avatar" style='background-image:url("../kozlovskiy-avatar.jpg")'></div><span class="position-absolute rounded-circle" id="online-circle" style="background-color:#95d062;padding:.18rem;left:80%;top:80%" hidden></span></div><div class="text-truncate ms-2" id="op-name">Козловский</div><svg xmlns="http://www.w3.org/2000/svg" class="bi ms-2" viewBox="0 0 16 16" aria-label="Настройки" id="settings-btn" display="none" type="button" onclick='Telegram.WebApp.showPopup({title:"Настройки",message:"Выберите сложность:",buttons:[{id:"5",type:"destructive",text:"Сложно"},{id:"3",text:"Средне"},{id:"1",text:"Легко"}]})'><path d="M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="bi ms-2" viewBox="0 0 16 16" aria-label="Настройки" id="restart-btn" type="button" onclick='Telegram.WebApp.showPopup({title:"Начать новую партию",message:"Вы точно хотите завершить эту партию?",buttons:[{id:"restart",type:"destructive",text:"Да"},{type:"close"}]})'><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/></svg><div class="loading ms-2" id="mp-loading" hidden></div><div class="text-truncate" id="game-status">Ваш ход</div></div><div class="shadow" id="board"></div><div id="myModal"><div id="modal-container" class="modal-content"><div class="modal-header"><h2>Доиграть партию</h2><div class="loading ms-4" id="games-loading"></div><button class="close">&times;</button></div><div id="my-games" class="modal-body"></div></div></div><nav class="navbar shadow gap-2" id="hist-nav" hidden><div id="hist-line" class="flex-fill overflow-x-auto hide-scroll text-nowrap ps-1 fs-l"></div><button id="undo-btn" aria-label="Отменить" disabled="disabled" onclick='ai.postMessage({cmd:"undo"})' hidden><svg xmlns="http://www.w3.org/2000/svg" class="bi" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/><path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/></svg></button><button id="redo-btn" aria-label="Вернуть" disabled="disabled" onclick='ai.postMessage({cmd:"redo"})' hidden><svg xmlns="http://www.w3.org/2000/svg" class="bi" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/><path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/></svg></button></nav></body><script src="lib/chessboard-lite.min.js"></script><script src="main.min.js"></script></html>